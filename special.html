<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <title>Special offer — Back to Base</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script>
    // UNIVERSAL THEME INITIALIZATION - Works on ALL pages
    (function() {
      'use strict';
      try {
        const savedTheme = localStorage.getItem('btb_theme');
        const userSetTheme = localStorage.getItem('btb_theme_user') === '1';
        let initialTheme = 'dark';
        if (userSetTheme && savedTheme && (savedTheme === 'dark' || savedTheme === 'light' || savedTheme === 'twilight')) {
          initialTheme = savedTheme;
        }
        document.documentElement.setAttribute('data-theme', initialTheme);
      } catch (error) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Special page specific styles */
    .special-hero {
      position: relative;
      height: 60vh;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: url('assets/ainsworth-hot-springs.jpg') center/cover,
                  url('assets/ainsworth-hot-springs.jpeg') center/cover,
                  url('assets/ainsworth-hot-springs.JPG') center/cover,
                  url('https://images.unsplash.com/photo-1519824145371-296894a0daa9?q=80&w=1600&auto=format&fit=crop') center/cover;
      background-size: cover;
      background-position: center;
      color: white;
      text-align: center;
      margin-bottom: 0;
    }
    .special-hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1;
    }
    .special-hero-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      padding: 0 20px;
    }
    .special-hero h1 {
      font-size: clamp(2.5rem, 5vw, 4rem);
      margin-bottom: 1rem;
      color: white !important;
      text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    }
    .special-hero p {
      font-size: clamp(1.1rem, 2vw, 1.5rem);
      opacity: 0.95;
      color: white !important;
      text-shadow: 0 1px 5px rgba(0,0,0,0.8);
    }

    .special-section {
      padding: 50px 0;
    }
    .special-section.alt {
      background: var(--bg-alt);
    }

    .exclusive-offer-card {
      background: var(--card);
      border: 1px solid rgba(255,255,255,.06);
      border-radius: 20px;
      padding: 40px;
      color: var(--text);
      text-align: center;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      margin: 10px 0 40px 0;
      position: relative;
      overflow: hidden;
    }
    .exclusive-offer-card-content {
      position: relative;
      z-index: 2;
    }
    .exclusive-offer-card h2 {
      font-size: clamp(2rem, 4vw, 3rem);
      margin-bottom: 20px;
      color: var(--text);
    }
    .exclusive-offer-card p {
      font-size: clamp(1.1rem, 2vw, 1.4rem);
      line-height: 1.8;
      margin-bottom: 30px;
      color: var(--text-muted);
    }
    .exclusive-offer-badge {
      display: inline-block;
      background: var(--bg-alt);
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 0.9rem;
      margin-bottom: 20px;
      border: 1px solid var(--border);
      color: var(--text);
    }


    .info-section-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: center;
      margin: 40px 0;
    }
    .info-text-content {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .info-text-content h2 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    .info-text-content p {
      font-size: 1.1rem;
      line-height: 1.8;
      color: var(--text-muted);
    }
    .info-image {
      width: 100%;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      object-fit: cover;
      aspect-ratio: 4/3;
    }

    .hot-springs-card {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
      margin-bottom: 50px;
    }
    .hot-springs-card.reverse {
      direction: rtl;
      margin-bottom: 5px;
    }
    .hot-springs-card.reverse > * {
      direction: ltr;
    }
    .hot-springs-content {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .hot-springs-content h3 {
      font-size: 2rem;
      margin-bottom: 15px;
      color: var(--text);
      margin-top: 0;
    }
    .hot-springs-content p {
      font-size: 1.1rem;
      line-height: 1.8;
      color: var(--text-muted);
      margin-bottom: 0;
    }
    .hot-springs-image {
      width: 100%;
      border-radius: 16px;
      object-fit: cover;
      aspect-ratio: 4/3;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }

    @media (max-width: 900px) {
      .info-section-grid {
        grid-template-columns: 1fr;
      }
      .hot-springs-card,
      .hot-springs-card.reverse {
        grid-template-columns: 1fr;
        direction: ltr;
      }
      .hot-springs-card.reverse > * {
        direction: ltr;
      }
      .exclusive-offer-card {
        padding: 30px 20px;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="index.html">
        <img alt="Back to Base" class="logo-img" />
        <span class="logo-text">Back to Base</span>
      </a>
      <nav class="nav">
        <a href="index.html#rooms">Rooms</a>
        <a href="massage.html">Massage</a>
        <a href="retreat-and-workshop.html">Retreats and Workshops</a>
        <a href="special.html">Special</a>
        <a href="about.html">About us</a>
      </nav>
      <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle mobile menu">
        ☰
      </button>
      <div class="header-actions">
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
          <svg class="theme-toggle-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 3v1m0 16v1m9-9h1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span id="theme-text">Light</span>
        </button>
        <a href="login.html" class="btn-signin" id="header-signin">Sign In</a>
      </div>
    </div>
  </header>

  <!-- Mobile Navigation Overlay -->
  <div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
  
  <!-- Mobile Navigation Menu -->
  <nav class="mobile-nav" id="mobile-nav">
    <a href="index.html#rooms">Rooms</a>
    <a href="massage.html">Massage</a>
    <a href="retreat-and-workshop.html">Retreats and Workshops</a>
    <a href="special.html">Special</a>
    <a href="about.html">About us</a>
    <a href="login.html" class="mobile-nav-signin" id="mobile-nav-signin">Sign In</a>
    <button class="theme-toggle" id="mobile-theme-toggle" aria-label="Toggle theme">
      <svg class="theme-toggle-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 3v1m0 16v1m9-9h1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span id="mobile-theme-text">Light</span>
    </button>
  </nav>

  <div class="special-hero">
    <div class="special-hero-content">
      <h1 id="special-hero-title">Soak & Savor at Ainsworth Hot Springs</h1>
      <p id="special-hero-subtitle">Back to Base offers its guests a unique relaxation experience. See the details below.</p>
    </div>
  </div>

  <main>
    <section class="special-section">
      <div class="container">
        <div class="hot-springs-card">
          <div class="hot-springs-content">
            <h3 id="special-pools-title">Mineral-Rich Pools & Limestone Cave</h3>
            <p id="special-pools-description-1">The Ainsworth Hot Springs are located just a thirty-minute scenic drive from the Back to Base lodge.</p>
            <p id="special-pools-description-2">Relax in the mineral-rich waters of the pools and explore the unique limestone cave, where warm geothermal water flows along the grotto walls, creating a truly one-of-a-kind atmosphere for deep relaxation.</p>
          </div>
          <div>
            <img class="hot-springs-image" src="https://images.unsplash.com/photo-1519824145371-296894a0daa9?q=80&w=1600&auto=format&fit=crop" alt="Ainsworth Hot Springs pools" />
          </div>
        </div>

        <div class="hot-springs-card reverse">
          <div class="hot-springs-content">
            <h3 id="special-dining-title">Dining & Spa Experience</h3>
            <p id="special-dining-description-1">After your soak, enjoy a meal at the Ktunaxa Grill restaurant located on site. The menu features fresh regional ingredients and creative preparation, making every dish a real delight.</p>
            <p id="special-dining-description-2">Consider visiting the Spirit Water Spa, where experienced therapists offer a full range of treatments.</p>
          </div>
          <div>
            <img class="hot-springs-image" src="https://images.unsplash.com/photo-1540555700478-4be289fbecef?q=80&w=1600&auto=format&fit=crop" alt="Ktunaxa Grill restaurant and spa" />
          </div>
        </div>
      </div>
    </section>


    <section class="special-section">
      <div class="container">
        <div class="exclusive-offer-card">
          <div class="exclusive-offer-card-content">
            <h2 id="special-offer-title">Free Hot Springs Access</h2>
            <p><strong id="special-offer-main-text">Book a minimum 5-night stay at our Erasmus Suite (Second floor — Loft suite) and receive one free visit per person to Ainsworth Hot Springs pools, courtesy of us!</strong></p>
            <p id="special-offer-description">This exclusive offer includes access to the mineral-rich pools and the natural limestone cave. A perfect way to enhance your stay at Back to Base with a truly restorative experience.</p>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <h4>Contact</h4>
        <p id="footer-contact-address">British Columbia, Canada</p>
        <p id="footer-contact-phone">Phone: +1 (555) 123‑4567</p>
        <p id="footer-contact-email">Email: hello@backtobase.example</p>
      </div>
      <div>
        <h4>Navigation</h4>
        <ul class="footer-nav">
          <li><a href="index.html#rooms">Rooms</a></li>
          <li><a href="massage.html">Massage</a></li>
          <li><a href="retreat-and-workshop.html">Retreats and Workshops</a></li>
          <li><a href="special.html">Special</a></li>
          <li><a href="about.html">About us</a></li>
        </ul>
      </div>
      <div>
        <h4>Quiet hours</h4>
        <p>22:00 — 07:00</p>
      </div>
    </div>
    <div class="container copyright">© <span id="year"></span> Back to Base</div>
  </footer>

  <script src="script.js?v=26"></script>
  <script src="auth.js?v=26"></script>
  <script>
    // Load special images from admin
    (function() {
      function updateSpecialImages() {
        try {
          const contentData = localStorage.getItem('btb_content');
          if (contentData) {
            const data = JSON.parse(contentData);
            
            // Update hero background
            if (data.specialHeroImageUrl) {
              const heroSection = document.querySelector('.special-hero');
              if (heroSection) {
                heroSection.style.backgroundImage = `url('${data.specialHeroImageUrl}?v=${Date.now()}')`;
              }
            }
            
            // Update pools image
            if (data.specialPoolsImageUrl) {
              const poolsCard = document.querySelectorAll('.hot-springs-card')[0];
              if (poolsCard) {
                const img = poolsCard.querySelector('.hot-springs-image');
                if (img) {
                  img.src = data.specialPoolsImageUrl + '?v=' + Date.now();
                }
              }
            }
            
            // Update dining image
            if (data.specialDiningImageUrl) {
              const diningCard = document.querySelectorAll('.hot-springs-card')[1];
              if (diningCard) {
                const img = diningCard.querySelector('.hot-springs-image');
                if (img) {
                  img.src = data.specialDiningImageUrl + '?v=' + Date.now();
                }
              }
            }
          }
        } catch(e) {
          console.error('Error updating special images:', e);
        }
      }
      
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', updateSpecialImages);
      } else {
        updateSpecialImages();
      }
      
      // Also try to load from API
      async function loadSpecialContentFromAPI() {
        try {
          const formData = new FormData();
          formData.append('action', 'get_content');
          
          const response = await fetch('api.php', {
            method: 'POST',
            body: formData
          });
          
          if (response.ok) {
            const result = await response.json();
            if (result.success && result.data) {
              const data = result.data;
              
              // Update images
              const contentData = {
                specialHeroImageUrl: data.specialHeroImageUrl || '',
                specialPoolsImageUrl: data.specialPoolsImageUrl || '',
                specialDiningImageUrl: data.specialDiningImageUrl || ''
              };
              
              const existing = localStorage.getItem('btb_content');
              let existingData = {};
              if (existing) {
                try {
                  existingData = JSON.parse(existing);
                } catch(e) {
                  console.error('Failed to parse existing localStorage:', e);
                }
              }
              
              const mergedData = { ...existingData, ...contentData };
              localStorage.setItem('btb_content', JSON.stringify(mergedData));
              
              updateSpecialImages();
              
              // Update text content
              const heroTitle = document.getElementById('special-hero-title');
              const heroSubtitle = document.getElementById('special-hero-subtitle');
              if (heroTitle && data.specialHeroTitle) heroTitle.textContent = data.specialHeroTitle;
              if (heroSubtitle && data.specialHeroSubtitle) heroSubtitle.textContent = data.specialHeroSubtitle;
              
              const poolsTitle = document.getElementById('special-pools-title');
              const poolsDesc1 = document.getElementById('special-pools-description-1');
              const poolsDesc2 = document.getElementById('special-pools-description-2');
              if (poolsTitle && data.specialPoolsTitle) poolsTitle.textContent = data.specialPoolsTitle;
              if (poolsDesc1 && data.specialPoolsDescription1) poolsDesc1.textContent = data.specialPoolsDescription1;
              if (poolsDesc2 && data.specialPoolsDescription2) poolsDesc2.textContent = data.specialPoolsDescription2;
              
              const diningTitle = document.getElementById('special-dining-title');
              const diningDesc1 = document.getElementById('special-dining-description-1');
              const diningDesc2 = document.getElementById('special-dining-description-2');
              if (diningTitle && data.specialDiningTitle) diningTitle.textContent = data.specialDiningTitle;
              if (diningDesc1 && data.specialDiningDescription1) diningDesc1.textContent = data.specialDiningDescription1;
              if (diningDesc2 && data.specialDiningDescription2) diningDesc2.textContent = data.specialDiningDescription2;
              
              const offerTitle = document.getElementById('special-offer-title');
              const offerMain = document.getElementById('special-offer-main-text');
              const offerDesc = document.getElementById('special-offer-description');
              if (offerTitle && data.specialOfferTitle) offerTitle.textContent = data.specialOfferTitle;
              if (offerMain && data.specialOfferMainText) offerMain.textContent = data.specialOfferMainText;
              if (offerDesc && data.specialOfferDescription) offerDesc.textContent = data.specialOfferDescription;
            }
          }
        } catch (error) {
          console.log('Failed to load special content from API:', error);
        }
      }
      
      setTimeout(loadSpecialContentFromAPI, 100);
    })();
  </script>
</body>
</html>
