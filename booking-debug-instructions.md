# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ü–æ—á–µ–º—É —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ –ø–∏—Å—å–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

## ‚úÖ –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

**–û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ñ–∞–π–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- ‚úÖ Mailgun –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ API –∫–ª—é—á –∏ –¥–æ–º–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

**–ó–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Mailgun!**

---

## ‚ùì –ü–æ—á–µ–º—É —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤–∞–∂–µ–Ω

**–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `booking-confirmation.html` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¢–û–õ–¨–ö–û –µ—Å–ª–∏:**

1. ‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ —á–µ—Ä–µ–∑ API
2. ‚úÖ API –≤–µ—Ä–Ω—É–ª —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç —Å `booking_id`
3. ‚úÖ –§—É–Ω–∫—Ü–∏—è `handleBookingForm` –ø–æ–ª—É—á–∏–ª–∞ —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
4. ‚úÖ –ü–∏—Å—å–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã (–æ–Ω–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ API –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ï—Å–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –ù–ï–¢:**
- ‚ùå –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ API
- ‚ùå –ò–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- ‚ùå –ò–ª–∏ —Ñ–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚ùå –ò–ª–∏ `booking.js` –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

---

## üîß –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 1. –î–æ–±–∞–≤–ª–µ–Ω `booking.js` –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–Ω–∞—Ç—ã

**–§–∞–π–ª:** `room-basement.html`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `<script src="booking.js"></script>` –ø–µ—Ä–µ–¥ `</body>`

---

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í `booking.js` –¥–æ–±–∞–≤–ª–µ–Ω—ã console.log:**
- `BookingAPI: Creating booking with data:` - –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
- `BookingAPI.createBooking: Starting booking creation` - –Ω–∞—á–∞–ª–æ —Å–æ–∑–¥–∞–Ω–∏—è
- `BookingAPI.createBooking: Sending request to:` - URL API
- `BookingAPI.createBooking: Response status:` - —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞
- `BookingAPI.createBooking: API response:` - –æ—Ç–≤–µ—Ç –æ—Ç API
- `BookingAPI: Booking creation result:` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è
- `BookingAPI: Booking created successfully` - —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

**–¢–µ–ø–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å!**

---

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–π—á–∞—Å

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ `booking.js`** (—Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ `room-basement.html`** (—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º `booking.js`)
3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ `email_service.php`** (—Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º)

---

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–Ω–∞—Ç—ã: `https://new.backtobase.ca/room-basement.html`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
4. –ù–∞–∂–º–∏—Ç–µ "Book"
5. **–°–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å!**

**–û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
BookingAPI: Creating booking with data: {room_name: "...", checkin_date: "...", ...}
BookingAPI.createBooking: Starting booking creation with data: {...}
BookingAPI.createBooking: Sending request to: api.php
BookingAPI.createBooking: Response status: 200
BookingAPI.createBooking: API response: {success: true, ...}
BookingAPI: Booking creation result: {success: true, booking_id: ...}
BookingAPI: Booking created successfully, redirecting to confirmation page
```

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –æ–Ω–∏ –±—É–¥—É—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏!**

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ.

**–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏:**
```
Mailgun: Attempting to send email to ...
Mailgun: URL: ...
Mailgun: HTTP Code: ...
Mailgun: Response: ...
```

**–ï—Å–ª–∏ –∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç** - —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (–≤–æ–∑–º–æ–∂–Ω–æ, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è).

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–í –æ—Ç–ª–∞–¥–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ `debug_email_sending.php` –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π".

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –ï—Å—Ç—å –ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±–∞–∑–µ?
- –ö–æ–≥–¥–∞ –æ–Ω–∏ —Å–æ–∑–¥–∞–Ω—ã?
- –°–æ–∑–¥–∞–Ω—ã –ª–∏ –æ–Ω–∏ —á–µ—Ä–µ–∑ API –∏–ª–∏ —á–µ—Ä–µ–∑ localStorage?

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: `booking.js` –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω

**–°–∏–º–ø—Ç–æ–º:** –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π `BookingAPI: ...`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `<script src="booking.js"></script>` –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ–º–Ω–∞—Ç—ã

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ –≤ API

**–°–∏–º–ø—Ç–æ–º:** –í –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ `BookingAPI.createBooking: HTTP error response: ...`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º:** –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç `BookingAPI: Booking created successfully`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç API –≤ –∫–æ–Ω—Å–æ–ª–∏ (`BookingAPI.createBooking: API response:`)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –§–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º:** –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ–æ–±—â–µ

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–æ—Ä–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ `handleBookingForm` –≤ `script.js`

---

## üìä –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥:**
   - `booking.js`
   - `room-basement.html`
   - `email_service.php`

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Å–æ–ª–∏** –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ `debug_email_sending.php`

---

## üéØ –ò—Ç–æ–≥

**–†–µ–¥–∏—Ä–µ–∫—Ç - —ç—Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:**
- ‚úÖ –ï—Å–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ, –ø–∏—Å—å–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚ùå –ï—Å–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–µ—Ç - —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–° –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞!**

**–°–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ–º–Ω–∞—Ç—ã –∏ –ø—Ä–∏—à–ª–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞!** üöÄ



