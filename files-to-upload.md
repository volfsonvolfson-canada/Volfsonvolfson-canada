# –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

## üìã –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

### ‚úÖ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ):

#### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –¥–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã):
1. **admin-bookings.html** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
2. **admin-content.html** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
3. **admin-bookings.js** - JavaScript –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
4. **admin-content.js** - JavaScript –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (Phase 1-6):
5. **database_schema.sql** - SQL —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞)
6. **booking_api.php** - API –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
7. **booking.js** - Frontend JavaScript –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
8. **payment.js** - Frontend JavaScript –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
9. **booking-confirmation.html** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
10. **availability-calendar.js** - –í–∏–¥–∂–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

#### Email —Å–∏—Å—Ç–µ–º–∞ (Phase 2):
11. **email_service.php** - –°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ email —á–µ—Ä–µ–∑ SendGrid

#### Payment —Å–∏—Å—Ç–µ–º–∞ (Phase 3):
12. **payment_service.php** - –°–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π Stripe
13. **stripe_webhook.php** - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ webhook –æ—Ç Stripe

#### Airbnb —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (Phase 4):
14. **ical_parser.php** - –ü–∞—Ä—Å–µ—Ä iCal –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π Airbnb
15. **airbnb_sync.php** - –°–µ—Ä–≤–∏—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Airbnb
16. **cron_sync_airbnb.php** - Cron —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### Email —à–∞–±–ª–æ–Ω—ã (Phase 2):
17. **templates/email_booking_confirmation.html**
18. **templates/email_booking_request.html**
19. **templates/email_booking_confirmed.html**
20. **templates/email_booking_cancelled.html**

---

### üîÑ –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ):

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **admin.css** - –û–±–Ω–æ–≤–ª–µ–Ω: —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç–µ–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. **admin-login.html** - –û–±–Ω–æ–≤–ª–µ–Ω: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ admin-bookings.html

#### API –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
3. **api.php** - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ Airbnb
4. **config.php** - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª—é—á–∏ SendGrid, Stripe, Airbnb iCal URLs

#### –û–±—â–∏–µ —Ñ–∞–π–ª—ã:
5. **common.php** - –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ PHP (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)
6. **booking_api.php** - –ï—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–±–Ω–æ–≤–∏—Ç—å

---

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ `booking_api.php`
- ‚úÖ `payment_service.php`
- ‚úÖ `email_service.php`
- ‚úÖ `airbnb_sync.php`
- ‚úÖ `ical_parser.php`
- ‚úÖ `stripe_webhook.php`
- ‚úÖ `booking.js`
- ‚úÖ `payment.js`
- ‚úÖ `booking-confirmation.html`
- ‚úÖ `admin-bookings.html`
- ‚úÖ `admin-bookings.js`

#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚ö†Ô∏è `cron_sync_airbnb.php` - –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- ‚ö†Ô∏è `availability-calendar.js` - –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–∏–¥–∂–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –∫–æ–º–Ω–∞—Ç

#### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- üîê `config.php` - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ API –∫–ª—é—á–∏:
  - SendGrid API Key
  - Stripe Secret Key –∏ Publishable Key
  - Stripe Webhook Secret
  - Airbnb iCal URLs –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–Ω–∞—Ç—ã

---

### üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ:

```
/
‚îú‚îÄ‚îÄ admin-bookings.html          ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ admin-content.html           ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ admin-bookings.js            ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ admin-content.js             ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ admin-login.html             ‚Üê –û–ë–ù–û–í–ò–¢–¨
‚îú‚îÄ‚îÄ admin.css                    ‚Üê –û–ë–ù–û–í–ò–¢–¨
‚îú‚îÄ‚îÄ api.php                      ‚Üê –û–ë–ù–û–í–ò–¢–¨
‚îú‚îÄ‚îÄ config.php                   ‚Üê –û–ë–ù–û–í–ò–¢–¨
‚îú‚îÄ‚îÄ booking_api.php              ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ booking.js                   ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ payment.js                   ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ booking-confirmation.html    ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ availability-calendar.js     ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ email_service.php            ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ payment_service.php          ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ stripe_webhook.php           ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ ical_parser.php              ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ airbnb_sync.php              ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ cron_sync_airbnb.php         ‚Üê –ù–û–í–´–ô
‚îú‚îÄ‚îÄ common.php                   ‚Üê –ù–û–í–´–ô/–û–ë–ù–û–í–ò–¢–¨
‚îú‚îÄ‚îÄ templates/                   ‚Üê –ù–û–í–ê–Ø –ü–ê–ü–ö–ê
‚îÇ   ‚îú‚îÄ‚îÄ email_booking_confirmation.html
‚îÇ   ‚îú‚îÄ‚îÄ email_booking_request.html
‚îÇ   ‚îú‚îÄ‚îÄ email_booking_confirmed.html
‚îÇ   ‚îî‚îÄ‚îÄ email_booking_cancelled.html
‚îî‚îÄ‚îÄ assets/                      ‚Üê –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

---

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `config.php`** - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ API –∫–ª—é—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã:
   ```php
   define('SENDGRID_API_KEY', '–≤–∞—à_–∫–ª—é—á');
   define('STRIPE_SECRET_KEY', '–≤–∞—à_–∫–ª—é—á');
   define('STRIPE_PUBLISHABLE_KEY', '–≤–∞—à_–∫–ª—é—á');
   define('STRIPE_WEBHOOK_SECRET', '–≤–∞—à_—Å–µ–∫—Ä–µ—Ç');
   $AIRBNB_ICAL_URLS = [/* –≤–∞—à–∏ URL */];
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:
   - `bookings`
   - `blocked_dates`
   - `airbnb_calendar`
   - `booking_confirmations`
   - `room_airbnb_settings`

3. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `templates/`** –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ç—É–¥–∞ email —à–∞–±–ª–æ–Ω—ã

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é Airbnb:
   ```
   0 * * * * /usr/bin/php /path/to/cron_sync_airbnb.php
   ```

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Stripe Webhook** - –í Stripe Dashboard –¥–æ–±–∞–≤—å—Ç–µ endpoint:
   ```
   https://your-site.com/stripe_webhook.php
   ```

---

### üîÑ –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π):

1. **–°–Ω–∞—á–∞–ª–∞**: –û–±–Ω–æ–≤–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã (`admin.css`, `admin-login.html`, `api.php`, `config.php`)
2. **–ó–∞—Ç–µ–º**: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ PHP —Ñ–∞–π–ª—ã (`booking_api.php`, `email_service.php`, –∏ —Ç.–¥.)
3. **–ü–æ—Å–ª–µ**: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ HTML/JS —Ñ–∞–π–ª—ã (`admin-bookings.html`, `admin-content.html`, –∏ —Ç.–¥.)
4. **–í –∫–æ–Ω—Ü–µ**: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `templates/` –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ email —à–∞–±–ª–æ–Ω—ã

---

### ‚úÖ –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `admin-login.html` - –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ `admin-bookings.html`
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ - –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è `admin-content.html`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–µ–º–Ω—ã–º–∏ –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Dashboard - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—è—Ü–∞ –∏ –≥–æ–¥–∞

---

### üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏ JavaScript
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP** - –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã
4. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞** - Ctrl+F5 –∏–ª–∏ Cmd+Shift+R



